# 13. 실전 디자인 패턴 - 패턴과 행복하게 살아가기

- 현실에서 복잡한 문제를 해결 하기 위해 실전을 대비하는 가이드를 살펴보자

## 디자인 패턴과 함께하는 행복한 삶을 위한 객체마을 공식 가이드

- 널리 퍼져 있는 '디자인 패턴'의 정의에 관한 오해를 확실하게 풀고 갑시다
- 디자인 패턴 카탈로그를 알아보고, 그 필요성을 제대로 파악합시다
- 적절한 시점에 디자인 패턴을 사용합시다
- 패턴을 제 범주에 맞게 사용합시다
- 패턴 발견은 고수만이 할 수 있는 일은 아닙니다
  - 간단한 설명을 읽고 나면 여러분도 패턴을 발견할 수 있습니다
- 베일에 싸여 있던 4인방(GoF, Gang of Four)의 실체가 드러납니다. 놓치지 마세요!
- 대세를 따릅시다
- 패턴을 사용하는 사람이라면 반드시 가지고 있어야 하는 책을 소개 합니다
- 스승님으로부터 정신 수양법을 배웁시다
- 패턴과 관련된 다양한 용어를 많이 익혀서 친구들과 다른 개발자들에게 깊은 인상을 심어줍시다

## 디자인 패턴의 정의

> 패턴(Pattern)은 특정 컨텍스트 내에서 주어진 문제의 해결책이다

- 컨텍스트(context)란 패턴이 적용되는 상황을 뜻합니다
  - 반복적으로 일어날 수 있는 상황이어야만 합니다
- 문제(problem)란 컨텍스트 내에서 이뤄야 하는 목표를 뜻합니다
  - 여기에는 컨텍스트 내의 제약조건도 포함됩니다
- 해결책(solution)은 바로 우리가 찾아내야 하는 것입니다

  - 제약조건 속에서 누가 적용해도 목표를 이룰 수 있는 일반적인 디자인을 뜻합니다

- e.g.

  - 컨텍스트 : 객체들의 컬렉션이 주어져 있습니다
  - 문제 : 컬렉션의 구현을 드러내지 않으면서 그 안에 있는 각 객체를 대상으로 순환 작업을 할 수 있어야 합니다
  - 해결책 : 반복 작업을 별도의 클래스로 캡슐화합니다(Iterator 패턴)

- 어떤 컨텍스트 내에서 일련의 제약조건에 의해 영향을 받는 문제가 발생했다면,
  그 제약조건 내에서 목적을 달성하기 위한 해결책이 되는 디자인을 적용하면 된다

- 패턴을 정의할 수 있어야 다양한 장점을 제공하는 패턴 카탈로그를 만들 수 있습니다

- 디자인 패턴의 정의에 사용된 용어 예시2
  - 문제 : 어떻게 회사에 제시간에 도착할 것인가?
  - 컨텍스트 : 차에 자동차 열쇠를 두고 나왔는데 문이 잠겼다
  - 해결책 : 유리를 깬다. 차에 들어간다. 차를 몰고 출근한다.
  - 이걸 패턴이라고 할 수 있을까요?
    - 패턴은 반복적으로 등장하는 문제에 적용할 수 있어야 한다
    - 차유리를 깨는 방법은 반복적으로 적용할 수 있는 해결책이 아닙니다
    - 이런 해결 책을 다른 사람에게 알려줘서 그 사람이 처한 문제의 해결책으로 적용하게 하기가 힘들다
    - 패턴의 특징을 위배
      - 패턴에 이름을 붙이지 않았다
        - 이름이 없다면 다른 개발자들과 그 패턴에 관한 토론을 하기가 정말 어려울 것입니다

## 디자인 패턴의 정의 자세히 살펴보기

- 반복적으로 등장하는 문제에 적용할 수 있는 해결책이다
- 패턴을 기술하고 패턴 카탈로그에 수록할 때 사용하는 방법들에 대해 알아보자

## 무엇이든 물어보세요

- Q1) 그럼, 이제 문제, 컨텍스트, 해결책 형태로 기술된 패턴을 살펴보는 건가요?
- A1) 패턴 카탈로그에서 볼 수 있는 패턴 설명은 보통 좀 더 자세하게 적혀 있습니다

  - 패턴 카탈로그에는 패턴의 용도와 패턴이 만들어진 배경, 적용할 수 있는 범위, 해결책의 디자인 및 그 해결책을 적용한 결과(장단점)와 같은 다양한 내용이 자세히 적혀 있습니다

- Q2) 패턴의 구조를 조금 변경해서 제가 사용하는 디자인에 맞게 써도 되나요? 아니면 정의를 있는 그대로 따라야 하나요?
- A2) 물론 디자인에 맞게 바꿔도 됩니다. 디자인 원칙과 마찬가지로 디자인 패턴도 법칙이나 규칙이 아닌 지침 정도라고 생각하면 됩니다.

  - 필요에 따라 적당히 고쳐서 써도 되죠. 실전에서 패턴이 적용되는 예를 보면 고전적인 패턴 디자인과 다른 부분도 많이 있습니다
  - 하지만 패턴을 바꿔서 사용할 때, 고전적인 디자인과 어떻게 다른지를 문서화해 놓으면 여러 모로 좋습니다.
  - 다른 개발자가 여러분이 사용하고 있는 패턴을 빠르게 파악하고, 여러분이 사용한 패턴과 고전적인 패턴 사이의 차이점을 이해하는 데 큰 도움이 될 거니까요

- Q3) 패턴 카탈로그는 어디서 구할 수 있나요?
- A3) 가장 훌륭한 패턴 카탈로그로 'GoF의 디자인 패턴'을 들 수 있습니다.
  - 이 카탈로그에는 23개의 기본 패턴이 수록되어 있습니다.
  - 그 밖에도 엔터프라이즈 소프트웨어, 컨커런트 시스템, 비즈니스 시스템 등과 같은 다양한 영역에 맞는 패턴 카탈로그들이 출시되고 있습니다

## 코딩 심화학습

- 포스 : 문제 = 목적 + 제약조건

### GoF 책 구성

- 패턴 이름
- 패턴의 종류 또는 범주
- Intent(용도)
  - 패턴의 역할이 기술됩니다
- Motivation(동기)
  - 문제를 기술하고 주어진 해결책이 어떤 식으로 그 문제를 해결하는지 보여주는 구체적인 시나리오
- Applicability(적용 대상)
  - 그 패턴을 적용할 수 있는 상황
- Structure(구조)
  - 이 패턴에서 쓰이는 클래스들의 관계를 보여주는 다이어그램이 수록
- Participants(구성 요소)
  - 클래스와 객체들의 설명이 들어있습니다
  - 패턴 내에서 각 클래스(객체)가 맡는 임무와 역할을 설명합니다
- Collaboration(협동)
  - 각 구성요소(participant)가 패턴 내에서 어떤 식으로 서로 도움을 주는지 설명되어 있습니다
- Consequences(결과)
  - 이 패턴을 사용했을 때의 효과(장점과 단점)가 수록됩니다
- Implementation(구현)
  - 패턴을 구현할 때 필요한 기술과 주의사항
- Sample Code(예제 코드)
  - 구현하는 데 도움이 될 만한 코드를 제공합니다
- Known Uses(사용 사례)
  - 실제 시스템에서 이 패턴을 사용하는 예시 설명이 들어 있습니다
- Related Patterns(관련 패턴)
  - 이 패턴과 다른 패턴 사이의 관계를 설명하는 내용이 나와 있습니다
